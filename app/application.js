"use strict";var app=angular.module("app",["ngComponentRouter","ngTouch","ngResource","ngSanitize"]);app.config(["$locationProvider",function(t){t.html5Mode(!0)}]),app.value("$routerRootComponent","coreApp"),angular.module("app").config(["$httpProvider","$locationProvider",function(t,e){}]).run(["$rootScope","$timeout","$location",function(t,e,a){t.appLoader=!0;var o=function(){return a.path()};t.$watch(o,function(e,a){t.activePage=e})}]),angular.module("app").filter("truncate",function(){return function(t,e,a){if(t){var e=e;return t.length<=e?t:String(t).substring(0,e)+"..."}}}),angular.module("app").component("coreApp",{templateUrl:"/modules/app/app.comp.html",$routeConfig:[{path:"/",component:"index",name:"Root"},{path:"/**",redirectTo:["Root"]}]}),function(){function t(t,e,a,o,n,i,p,l,c){var s=this;s.profile={username:"Garfield",avatar:"",about:'All I do is eat and sleep. Eat and sleep. Eat and sleep. There must be more to a catâ€™s life than that. But I hope not. <span class="aboutTag">#Sleep</span> <span class="aboutTag">#Catnip</span> <span class="aboutTag">#CatLife</span> <span class="aboutTag">#Sleep</span>',stats:[{key:"Posts",value:"0"},{key:"Followers",value:"424"},{key:"Following",value:"102"}],follow:!1},s.path="https://raw.githubusercontent.com/tailify/dev-test-api/master/public/",s.animate={page:"pageInactive",analytics:!1,analyticsSwitch:!1,like:!1,comments:!1},s.popup={img:"",css:"",prompt:{active:!1,status:"",title:"",text:""}},s.analytics={month:[{day:1,likes:235,comments:12},{day:2,likes:890,comments:22},{day:3,likes:1321,comments:52},{day:4,likes:1789,comments:74},{day:5,likes:2490,comments:88},{day:6,likes:3165,comments:102},{day:7,likes:4101,comments:201},{day:8,likes:5112,comments:223},{day:9,likes:6401,comments:283},{day:10,likes:7891,comments:348},{day:11,likes:10219,comments:419},{day:12,likes:12901,comments:570},{day:13,likes:14736,comments:701},{day:14,likes:16782,comments:890}],monthLikesTotal:0,monthCommentsTotal:0,countries:[{country:"uk",value:"642,630.94",percentage:34},{country:"france",value:"510,324.57",percentage:27},{country:"germany",value:"226,810.92",percentage:12},{country:"russia",value:"302,414.56",percentage:16},{country:"latvia",value:"37,801.82",percentage:2},{country:"kongo",value:"170,108.19",percentage:9}],sex:[{key:"male",value:29},{key:"female",value:71}],age:[{key:">14",value:14.2},{key:"15-24",value:22.7},{key:"25-34",value:41.8},{key:"35-44",value:19.1},{key:"45+",value:2.2}],totals:[{key:"Total Reach",value:"1,890,091"},{key:"Total Posts",value:"6"},{key:"Total Influencers",value:"3"}]},s.comment="",s.comments=[],s.data="",s.$onInit=function(e){t({method:"GET",url:"https://devtest.tailify.com/api/list/"}).then(function(t){s.data=t.data,s.profile.avatar="https://raw.githubusercontent.com/tailify/dev-test-api/master/public/"+t.data[1].path,s.profile.stats[0].value=t.data.length},function(t){console.log("Something has gone wrong")});for(var a=0;a<s.analytics.month.length;a++)s.analytics.monthLikesTotal+=s.analytics.month[a].likes,s.analytics.monthCommentsTotal+=s.analytics.month[a].comments;i(function(){o.appLoader=!1},200),i(function(){s.animate.page="pageActive"},400)},s.togglePopup=function(a){var o=angular.element(e[0].body);if("reset"==a)return o.removeClass("noScroll"),s.popup.css="",i(function(){s.animate.page="pageActive"},200),i(function(){s.popup.img="",s.comments=[],s.animate.comments=!1,s.animate.like=!1},400),s.popup.prompt.active=!1,!1;t({method:"POST",url:"https://devtest.tailify.com/api/upload/",data:{filename:a,pastebin_api_key:"d57e3eee19fd5c3ad3ed21b8912a3bce"}}).then(function(t){s.popup.prompt.active=!0,s.popup.prompt.status=200,s.popup.prompt.title="Perrrrfect,",s.popup.prompt.text=t.data.uri+" uploaded just fine.",i(function(){s.popup.img=a},200),i(function(){s.popup.prompt.active=!1},2500)},function(t){s.popup.prompt.active=!0,s.popup.prompt.status=500,s.popup.prompt.title="Hissss",s.popup.prompt.text=t.data.message+".",i(function(){s.popup.img=a},200),i(function(){s.popup.prompt.active=!1},2500)}),s.animate.page="pageInactive",i(function(){s.popup.css="userPopupImageActive"},200),o.addClass("noScroll")},s.toggleFollow=function(){s.profile.follow?s.profile.follow=!1:s.profile.follow=!0},s.insertComment=function(){s.comments.push({data:s.comment}),s.comment=""},s.toggleComments=function(){s.animate.comments?s.animate.comments=!1:s.animate.comments=!0},s.toggleLike=function(){s.animate.like?s.animate.like=!1:s.animate.like=!0},s.toggleAnalytics=function(){var t=angular.element(e[0].body);s.animate.analytics?(t.removeClass("noScroll"),s.animate.analytics=!1,i(function(){s.animate.page="pageActive"},200)):(t.addClass("noScroll"),s.animate.page="pageInactive",i(function(){s.animate.analytics=!0},200))},s.switchAnalytics=function(){s.animate.analyticsSwitch?s.animate.analyticsSwitch=!1:s.animate.analyticsSwitch=!0}}angular.module("app").component("index",{templateUrl:"/modules/public/index/index.comp.html",bindings:{$router:"<"},controllerAs:"model",controller:["$http","$document","$route","$rootScope","$scope","$timeout","$window","$location","$q",t]})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcC9hcHAuY29tcC5qcyIsInB1YmxpYy9pbmRleC9pbmRleC5jb21wLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsImh0bWw1TW9kZSIsInZhbHVlIiwiJGh0dHBQcm92aWRlciIsInJ1biIsIiRyb290U2NvcGUiLCIkdGltZW91dCIsIiRsb2NhdGlvbiIsImFwcExvYWRlciIsInBhdGgiLCIkd2F0Y2giLCJuZXdWYWwiLCJvbGRWYWwiLCJhY3RpdmVQYWdlIiwiZmlsdGVyIiwidGV4dCIsImxlbmd0aCIsImVuZCIsIlN0cmluZyIsInN1YnN0cmluZyIsImNvbXBvbmVudCIsInRlbXBsYXRlVXJsIiwiJHJvdXRlQ29uZmlnIiwibmFtZSIsInJlZGlyZWN0VG8iLCJpbmRleENvbnRyb2xsZXIiLCIkaHR0cCIsIiRkb2N1bWVudCIsIiRyb3V0ZSIsIiRzY29wZSIsIiR3aW5kb3ciLCIkcSIsIm1vZGVsIiwidGhpcyIsInByb2ZpbGUiLCJ1c2VybmFtZSIsImF2YXRhciIsImFib3V0Iiwic3RhdHMiLCJrZXkiLCJmb2xsb3ciLCJhbmltYXRlIiwicGFnZSIsImFuYWx5dGljcyIsImFuYWx5dGljc1N3aXRjaCIsImxpa2UiLCJjb21tZW50cyIsInBvcHVwIiwiaW1nIiwiY3NzIiwicHJvbXB0IiwiYWN0aXZlIiwic3RhdHVzIiwidGl0bGUiLCJtb250aCIsImRheSIsImxpa2VzIiwibW9udGhMaWtlc1RvdGFsIiwibW9udGhDb21tZW50c1RvdGFsIiwiY291bnRyaWVzIiwiY291bnRyeSIsInBlcmNlbnRhZ2UiLCJzZXgiLCJhZ2UiLCJ0b3RhbHMiLCJjb21tZW50IiwiZGF0YSIsIiRvbkluaXQiLCJuZXh0IiwibWV0aG9kIiwidXJsIiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJpIiwidG9nZ2xlUG9wdXAiLCJib2R5UmVmIiwiZWxlbWVudCIsImJvZHkiLCJyZW1vdmVDbGFzcyIsImZpbGVuYW1lIiwicGFzdGViaW5fYXBpX2tleSIsInVyaSIsIm1lc3NhZ2UiLCJhZGRDbGFzcyIsInRvZ2dsZUZvbGxvdyIsImluc2VydENvbW1lbnQiLCJwdXNoIiwidG9nZ2xlQ29tbWVudHMiLCJ0b2dnbGVMaWtlIiwidG9nZ2xlQW5hbHl0aWNzIiwic3dpdGNoQW5hbHl0aWNzIiwiYmluZGluZ3MiLCIkcm91dGVyIiwiY29udHJvbGxlckFzIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQ0EsWUFHQSxJQUFBQSxLQUFBQyxRQUFBQyxPQUFBLE9BQ0Esb0JBQ0EsVUFDQSxhQUNBLGNBSUFGLEtBQUFHLFFBQUEsb0JBQUEsU0FBQUMsR0FFQUEsRUFBQUMsV0FBQSxNQUlBTCxJQUFBTSxNQUFBLHVCQUFBLFdDWEFMLFFBQUFDLE9BQUEsT0FDQUMsUUFBQSxnQkFBQSxvQkFBQSxTQUFBSSxFQUFBSCxPQUlBSSxLQUFBLGFBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBR0FGLEVBQUFHLFdBQUEsQ0FFQSxJQUFBQyxHQUFBLFdBQ0EsTUFBQUYsR0FBQUUsT0FHQUosR0FBQUssT0FBQUQsRUFBQSxTQUFBRSxFQUFBQyxHQUNBUCxFQUFBUSxXQUFBRixPQVNBZCxRQUFBQyxPQUFBLE9BQ0FnQixPQUFBLFdBQUEsV0FDQSxNQUFBLFVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsR0FBQUYsRUFBQSxDQUVBLEdBQUFDLEdBQUFBLENBR0EsT0FBQUQsR0FBQUMsUUFBQUEsRUFFQUQsRUFHQUcsT0FBQUgsR0FBQUksVUFBQSxFQUFBSCxHQVBBLFVBaUJBbkIsUUFBQUMsT0FBQSxPQUFBc0IsVUFBQSxXQUVBQyxZQUFBLDZCQUNBQyxlQUVBYixLQUFBLElBQUFXLFVBQUEsUUFBQUcsS0FBQSxTQUVBZCxLQUFBLE1BQUFlLFlBQUEsWUM5REEsV0FzQkEsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQXZCLEVBQUF3QixFQUFBdkIsRUFBQXdCLEVBQUF2QixFQUFBd0IsR0FHQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBRSxTQUNBQyxTQUFBLFdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxnUkFDQUMsUUFDQUMsSUFBQSxRQUFBckMsTUFBQSxNQUNBcUMsSUFBQSxZQUFBckMsTUFBQSxRQUNBcUMsSUFBQSxZQUFBckMsTUFBQSxRQUVBc0MsUUFBQSxHQUdBUixFQUFBdkIsS0FBQSx3RUFFQXVCLEVBQUFTLFNBQ0FDLEtBQUEsZUFDQUMsV0FBQSxFQUNBQyxpQkFBQSxFQUNBQyxNQUFBLEVBQ0FDLFVBQUEsR0FHQWQsRUFBQWUsT0FDQUMsSUFBQSxHQUNBQyxJQUFBLEdBQ0FDLFFBQ0FDLFFBQUEsRUFDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0F0QyxLQUFBLEtBSUFpQixFQUFBVyxXQUNBVyxRQUNBQyxJQUFBLEVBQUFDLE1BQUEsSUFBQVYsU0FBQSxLQUNBUyxJQUFBLEVBQUFDLE1BQUEsSUFBQVYsU0FBQSxLQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxLQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxLQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxLQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxNQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxNQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxNQUNBUyxJQUFBLEVBQUFDLE1BQUEsS0FBQVYsU0FBQSxNQUNBUyxJQUFBLEdBQUFDLE1BQUEsS0FBQVYsU0FBQSxNQUNBUyxJQUFBLEdBQUFDLE1BQUEsTUFBQVYsU0FBQSxNQUNBUyxJQUFBLEdBQUFDLE1BQUEsTUFBQVYsU0FBQSxNQUNBUyxJQUFBLEdBQUFDLE1BQUEsTUFBQVYsU0FBQSxNQUNBUyxJQUFBLEdBQUFDLE1BQUEsTUFBQVYsU0FBQSxNQUVBVyxnQkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxZQUNBQyxRQUFBLEtBQUExRCxNQUFBLGFBQUEyRCxXQUFBLEtBQ0FELFFBQUEsU0FBQTFELE1BQUEsYUFB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b3VyY2VzQ29udGVudCI6WyIvLyBJbnZva2UgJ3N0cmljdCcgSmF2YVNjcmlwdCBtb2RlXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gSW5zdGFudGlhdGUgSG9tZVxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcblx0XCJuZ0NvbXBvbmVudFJvdXRlclwiLFxuXHRcIm5nVG91Y2hcIixcblx0XCJuZ1Jlc291cmNlXCIsXG5cdFwibmdTYW5pdGl6ZVwiXG5dKTtcblxuLy8gQXBwIENvbmZpZ1xuYXBwLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAvLyBIVE1MNSBNb2RlXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpOyAgICBcbn1dKTtcblxuLy8gVG9wIExldmVsIENvbXBvbmVudFxuYXBwLnZhbHVlKFwiJHJvdXRlclJvb3RDb21wb25lbnRcIiwgXCJjb3JlQXBwXCIpOyIsIi8vIEludm9rZSAnc3RyaWN0JyBKYXZhU2NyaXB0IG1vZGVcblwidXNlIHN0cmljdFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PVxuLy8gQXBwIENvbmZpZ3VyYXRpb25cbi8vID09PT09PT09PT09PT09PT09XG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpXHRcbi5jb25maWcoWyckaHR0cFByb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInICwgZnVuY3Rpb24oJGh0dHBQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgIFx0XG4gICBcdC8vIEF1dGggSW50ZXJjZXB0ZXIgKFdvdWxkIGdvIGhlcmUpXG5cbn1dKS5ydW4oWyckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICR0aW1lb3V0LCAkbG9jYXRpb24pIHtcblxuICAgIC8vIFNldCBMb2FkZXJcbiAgICAkcm9vdFNjb3BlLmFwcExvYWRlciA9IHRydWU7IC8vIFNob3dzIGxvYWRlclxuICAgXHQvLyBTZXQgQWN0aXZlIFZpZXcgXG4gICBcdHZhciBwYXRoID0gZnVuY3Rpb24oKSB7IFxuICAgXHRcdHJldHVybiAkbG9jYXRpb24ucGF0aCgpO1xuICAgXHR9O1xuICAgXHQvLyBTZXQgJ0FjdGl2ZSBQYWdlJ1xuICAgXHQkcm9vdFNjb3BlLiR3YXRjaChwYXRoLCBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCkge1xuICAgIFx0ICRyb290U2NvcGUuYWN0aXZlUGFnZSA9IG5ld1ZhbDtcbiAgIFx0fSk7XG5cbn1dKTtcblxuLy8gPT09PT09PT09PT09PT09XG4vLyBUcnVuY2F0ZSBGaWx0ZXJcbi8vID09PT09PT09PT09PT09PVxuXG5hbmd1bGFyLm1vZHVsZShcImFwcFwiKVxuLmZpbHRlcigndHJ1bmNhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0ZXh0LCBsZW5ndGgsIGVuZCkge1xuICAgIFx0Ly8gQ2hlY2tcbiAgICBcdGlmKHRleHQpIHtcbiAgICBcdFx0Ly8gU2V0ICdMZW5ndGgsIEVuZCdcbiAgICBcdFx0dmFyIGxlbmd0aCA9IGxlbmd0aCxcbiAgICBcdFx0ICAgIGVuZCA9ICcuLi4nO1xuICAgIFx0XHQvLyBDaGVja1xuICAgIFx0XHRpZih0ZXh0Lmxlbmd0aCA8PSBsZW5ndGgpIHtcbiAgICBcdFx0XHQvLyBTZXRcbiAgICBcdFx0XHRyZXR1cm4gdGV4dDtcbiAgICBcdFx0fSBlbHNlIHtcblx0XHRcdFx0ICAvLyBTZXRcbiAgICBcdFx0XHRyZXR1cm4gU3RyaW5nKHRleHQpLnN1YnN0cmluZygwLCBsZW5ndGgpICsgZW5kO1xuICAgIFx0XHR9XG4gICAgXHR9XG4gICAgfTtcbn0pO1xuXG4vLyA9PT09PT09PT09XG4vLyBBcHAgUm91dGVyXG4vLyA9PT09PT09PT09XG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbXBvbmVudChcImNvcmVBcHBcIiwge1xuXHRcdC8vIFRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6XCIvbW9kdWxlcy9hcHAvYXBwLmNvbXAuaHRtbFwiLFx0XG4gICAgJHJvdXRlQ29uZmlnOiBbXG4gICAgICAvLyBQdWJsaWNcblx0XHRcdHsgcGF0aDpcIi9cIiwgY29tcG9uZW50OlwiaW5kZXhcIiwgbmFtZTpcIlJvb3RcIiB9LFxuXHRcdFx0Ly8gUmVkaXJlY3QgKHJlZGlyZWN0VG86W1wiUm9vdFwiXSlcblx0XHRcdHsgcGF0aDpcIi8qKlwiLCByZWRpcmVjdFRvOltcIlJvb3RcIl0gfSBcbiAgICBdXG59KTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQvLyBJbnZva2UgJ3N0cmljdCcgSmF2YVNjcmlwdCBtb2RlXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vICdJbmRleCBDb21wb25lbnQnIG9uICdBcHAgTW9kdWxlJ1xuXHR2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIik7XG5cblx0Ly8gQ29tcG9uZW50XG5cdG1vZHVsZS5jb21wb25lbnQoXCJpbmRleFwiLCB7XG5cdFx0dGVtcGxhdGVVcmw6XCIvbW9kdWxlcy9wdWJsaWMvaW5kZXgvaW5kZXguY29tcC5odG1sXCIsXG5cdFx0YmluZGluZ3M6IHtcbiAgICBcdFx0XCIkcm91dGVyXCI6XCI8XCJcbiAgICBcdH0sXG5cdFx0Y29udHJvbGxlckFzOlwibW9kZWxcIixcblx0XHRjb250cm9sbGVyOlsgJyRodHRwJywgJyRkb2N1bWVudCcsICckcm91dGUnLCAnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICckbG9jYXRpb24nLCAnJHEnLCBpbmRleENvbnRyb2xsZXJdXG5cdH0pO1xuXG5cdC8vID09PT09PT09PT1cblx0Ly8gQ29udHJvbGxlclxuXHQvLyA9PT09PT09PT09XG5cblx0ZnVuY3Rpb24gaW5kZXhDb250cm9sbGVyKCRodHRwLCAkZG9jdW1lbnQsICRyb3V0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkdGltZW91dCwgJHdpbmRvdywgJGxvY2F0aW9uLCAkcSkge1xuXHRcblx0XHQvLyBTZXQgJ1RoaXMnXG5cdFx0dmFyIG1vZGVsID0gdGhpcztcblx0XHQvLyBTZXQgJ1Byb2ZpbGUnXG5cdFx0bW9kZWwucHJvZmlsZSA9IHtcblx0XHRcdHVzZXJuYW1lOidHYXJmaWVsZCcsXG5cdFx0XHRhdmF0YXI6JycsXG5cdFx0XHRhYm91dDonQWxsIEkgZG8gaXMgZWF0IGFuZCBzbGVlcC4gRWF0IGFuZCBzbGVlcC4gRWF0IGFuZCBzbGVlcC4gVGhlcmUgbXVzdCBiZSBtb3JlIHRvIGEgY2F04oCZcyBsaWZlIHRoYW4gdGhhdC4gQnV0IEkgaG9wZSBub3QuIDxzcGFuIGNsYXNzPVwiYWJvdXRUYWdcIj4jU2xlZXA8L3NwYW4+IDxzcGFuIGNsYXNzPVwiYWJvdXRUYWdcIj4jQ2F0bmlwPC9zcGFuPiA8c3BhbiBjbGFzcz1cImFib3V0VGFnXCI+I0NhdExpZmU8L3NwYW4+IDxzcGFuIGNsYXNzPVwiYWJvdXRUYWdcIj4jU2xlZXA8L3NwYW4+Jyxcblx0XHRcdHN0YXRzOiBbXG5cdFx0XHRcdHsga2V5OidQb3N0cycsIHZhbHVlOicwJyB9LFxuXHRcdFx0XHR7IGtleTonRm9sbG93ZXJzJywgdmFsdWU6JzQyNCcgfSxcblx0XHRcdFx0eyBrZXk6J0ZvbGxvd2luZycsIHZhbHVlOicxMDInIH0sXG5cdFx0XHRdLFxuXHRcdFx0Zm9sbG93OmZhbHNlXG5cdFx0fTtcblx0XHQvLyBTZXQgJ1BhdGgnXG5cdFx0bW9kZWwucGF0aCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdGFpbGlmeS9kZXYtdGVzdC1hcGkvbWFzdGVyL3B1YmxpYy8nO1xuXHRcdC8vIFNldCAnQW5pbWF0ZSdcblx0XHRtb2RlbC5hbmltYXRlID0ge1xuXHRcdFx0cGFnZToncGFnZUluYWN0aXZlJyxcblx0XHRcdGFuYWx5dGljczpmYWxzZSxcblx0XHRcdGFuYWx5dGljc1N3aXRjaDpmYWxzZSxcblx0XHRcdGxpa2U6ZmFsc2UsXG5cdFx0XHRjb21tZW50czpmYWxzZVxuXHRcdH07XG5cdFx0Ly8gU2V0ICdQb3B1cCdcblx0XHRtb2RlbC5wb3B1cCA9IHtcblx0XHRcdGltZzonJyxcblx0XHRcdGNzczonJyxcblx0XHRcdHByb21wdDoge1xuXHRcdFx0XHRhY3RpdmU6ZmFsc2UsXG5cdFx0XHRcdHN0YXR1czonJyxcblx0XHRcdFx0dGl0bGU6JycsXG5cdFx0XHRcdHRleHQ6Jydcblx0XHRcdH1cblx0XHR9O1xuXHRcdC8vIFNldCAnQW5hbHl0aWNzJ1xuXHRcdG1vZGVsLmFuYWx5dGljcyA9IHtcblx0XHRcdG1vbnRoOltcblx0XHRcdFx0eyBkYXk6MSwgbGlrZXM6MjM1LCBjb21tZW50czoxMiB9LFx0XHRcdFx0XG5cdFx0XHRcdHsgZGF5OjIsIGxpa2VzOjg5MCwgY29tbWVudHM6MjIgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheTozLCBsaWtlczoxMzIxLCBjb21tZW50czo1MiB9LFx0XHRcdFx0XG5cdFx0XHRcdHsgZGF5OjQsIGxpa2VzOjE3ODksIGNvbW1lbnRzOjc0IH0sXHRcdFx0XHRcblx0XHRcdFx0eyBkYXk6NSwgbGlrZXM6MjQ5MCwgY29tbWVudHM6ODggfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheTo2LCBsaWtlczozMTY1LCBjb21tZW50czoxMDIgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheTo3LCBsaWtlczo0MTAxLCBjb21tZW50czoyMDEgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheTo4LCBsaWtlczo1MTEyLCBjb21tZW50czoyMjMgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheTo5LCBsaWtlczo2NDAxLCBjb21tZW50czoyODMgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheToxMCwgbGlrZXM6Nzg5MSwgY29tbWVudHM6MzQ4IH0sXHRcdFx0XHRcblx0XHRcdFx0eyBkYXk6MTEsIGxpa2VzOjEwMjE5LCBjb21tZW50czo0MTkgfSxcdFx0XHRcdFxuXHRcdFx0XHR7IGRheToxMiwgbGlrZXM6MTI5MDEsIGNvbW1lbnRzOjU3MCB9LFx0XHRcdFx0XG5cdFx0XHRcdHsgZGF5OjEzLCBsaWtlczoxNDczNiwgY29tbWVudHM6NzAxIH0sXHRcdFx0XHRcblx0XHRcdFx0eyBkYXk6MTQsIGxpa2VzOjE2NzgyLCBjb21tZW50czo4OTAgfSxcdFx0XHRcdFxuXHRcdFx0XSxcblx0XHRcdG1vbnRoTGlrZXNUb3RhbDowLFxuXHRcdFx0bW9udGhDb21tZW50c1RvdGFsOjAsXG5cdFx0XHRjb3VudHJpZXM6IFtcblx0XHRcdFx0eyBjb3VudHJ5Oid1aycsIHZhbHVlOic2NDIsNjMwLjk0JywgcGVyY2VudGFnZTozNCB9LFxuXHRcdFx0XHR7IGNvdW50cnk6J2ZyYW5jZScsIHZhbHVlOic1MTAsMzI0LjU3JywgcGVyY2VudGFnZToyNyB9LFxuXHRcdFx0XHR7IGNvdW50cnk6J2dlcm1hbnknLCB2YWx1ZTonMjI2LDgxMC45MicsIHBlcmNlbnRhZ2U6MTIgfSxcblx0XHRcdFx0eyBjb3VudHJ5OidydXNzaWEnLCB2YWx1ZTonMzAyLDQxNC41NicsIHBlcmNlbnRhZ2U6MTYgfSxcblx0XHRcdFx0eyBjb3VudHJ5OidsYXR2aWEnLCB2YWx1ZTonMzcsODAxLjgyJywgcGVyY2VudGFnZToyIH0sXG5cdFx0XHRcdHsgY291bnRyeTona29uZ28nLCB2YWx1ZTonMTcwLDEwOC4xOScsIHBlcmNlbnRhZ2U6OSB9LFxuXHRcdFx0XSxcblx0XHRcdHNleDogW1xuXHRcdFx0XHR7IGtleTonbWFsZScsIHZhbHVlOjI5IH0sXG5cdFx0XHRcdHsga2V5OidmZW1hbGUnLCB2YWx1ZTo3MSB9XHRcdFx0XHRcblx0XHRcdF0sXG5cdFx0XHRhZ2U6IFtcblx0XHRcdFx0eyBrZXk6Jz4xNCcsICAgdmFsdWU6MTQuMjAgfSxcblx0XHRcdFx0eyBrZXk6JzE1LTI0JywgdmFsdWU6MjIuNzAgfSxcblx0XHRcdFx0eyBrZXk6JzI1LTM0JywgdmFsdWU6NDEuODAgfSxcblx0XHRcdFx0eyBrZXk6JzM1LTQ0JywgdmFsdWU6MTkuMTAgfSxcblx0XHRcdFx0eyBrZXk6JzQ1KycsICAgdmFsdWU6Mi4yMCB9LFxuXHRcdFx0XSxcblx0XHRcdHRvdGFsczogW1xuXHRcdFx0XHR7IGtleTonVG90YWwgUmVhY2gnLCB2YWx1ZTonMSw4OTAsMDkxJyB9LFxuXHRcdFx0XHR7IGtleTonVG90YWwgUG9zdHMnLCB2YWx1ZTonNicgfSxcblx0XHRcdFx0eyBrZXk6J1RvdGFsIEluZmx1ZW5jZXJzJywgdmFsdWU6JzMnIH0sXG5cdFx0XHRdXG5cdFx0fTtcblx0XHQvLyBTZXQgJ0NvbW1lbnQnIGFuZCAgJ0NvbW1lbnRzJ1xuXHRcdG1vZGVsLmNvbW1lbnQgPSAnJztcblx0XHRtb2RlbC5jb21tZW50cyA9IFtdO1xuXHRcdC8vIFNldCAnRGF0YSdcblx0XHRtb2RlbC5kYXRhID0gJyc7XG5cdFx0XG5cdFx0LyoqXG5cdFx0KlxuXHRcdCogT25Jbml0IFxuXHRcdCpcblx0XHQqIEBtZXRob2QgYW5ndWxhciBlbGVtZW50XG5cdFx0KiBAcGFyYW0ge251bGx9IFxuXHRcdCogQHJldHVybiB7bnVsbH0gRmV0Y2ggVXNlciBJbWFnZXNcblx0XHQqXG5cdFx0Ki9cdFx0XG5cblx0XHRtb2RlbC4kb25Jbml0ID0gZnVuY3Rpb24obmV4dCkge1xuXHRcdFx0Ly8gR2V0XG5cdFx0XHQkaHR0cCh7XG5cdFx0XHQgIG1ldGhvZDogJ0dFVCcsXG5cdFx0XHQgIHVybDogJ2h0dHBzOi8vZGV2dGVzdC50YWlsaWZ5LmNvbS9hcGkvbGlzdC8nXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXMpIHtcblx0XHRcdFx0Ly8gU2V0ICdEYXRhJ1xuXHRcdFx0XHRtb2RlbC5kYXRhID0gcmVzLmRhdGE7XG5cdFx0XHRcdC8vIFNldCAnUHJvZmlsZSBBdmF0YXInXG5cdFx0XHRcdG1vZGVsLnByb2ZpbGUuYXZhdGFyID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS90YWlsaWZ5L2Rldi10ZXN0LWFwaS9tYXN0ZXIvcHVibGljLycrcmVzLmRhdGFbMV0ucGF0aDtcblx0XHRcdFx0Ly8gU2V0ICdQcm9maWxlIFN0YXRzIFBvc3RzJ1xuXHRcdFx0XHRtb2RlbC5wcm9maWxlLnN0YXRzWzBdLnZhbHVlID0gcmVzLmRhdGEubGVuZ3RoO1xuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXMpIHtcblx0XHRcdCBcdGNvbnNvbGUubG9nKCdTb21ldGhpbmcgaGFzIGdvbmUgd3JvbmcnKTtcblx0XHRcdH0pXG5cdFx0XHQvLyBTZXQgJ1RvdGFscydcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWwuYW5hbHl0aWNzLm1vbnRoLmxlbmd0aDsgaSsrKSB7IFxuXHQgICAgXHRcdG1vZGVsLmFuYWx5dGljcy5tb250aExpa2VzVG90YWwgICs9IG1vZGVsLmFuYWx5dGljcy5tb250aFtpXS5saWtlcztcblx0ICAgIFx0XHRtb2RlbC5hbmFseXRpY3MubW9udGhDb21tZW50c1RvdGFsICs9IG1vZGVsLmFuYWx5dGljcy5tb250aFtpXS5jb21tZW50cztcblx0XHRcdH07XG5cdFx0XHQvLyBIaWRlICdBcHAgTG9hZGVyJ1xuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCRyb290U2NvcGUuYXBwTG9hZGVyID0gZmFsc2U7XG5cdFx0XHR9LCAyMDApO1xuXHRcdFx0Ly8gU2V0ICdQYWdlIEFjdGl2ZSdcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRtb2RlbC5hbmltYXRlLnBhZ2UgPSAncGFnZUFjdGl2ZSc7XG5cdFx0XHR9LCA0MDApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCogXG5cdFx0KiBUb2dnbGUgUG9wdXBcblx0XHQqXG5cdFx0KiBAbWV0aG9kIHRvZ2dsZVBvcHVwXG5cdFx0KiBAcGFyYW0ge2ltZ30gXG5cdFx0KiBAcmV0dXJuIHtudWxsfSBTaG93cyBTZWxlY3RlZCBVc2VyIEltYWdlIChDYWxscyBBUEkpXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC50b2dnbGVQb3B1cCA9IGZ1bmN0aW9uKGltZykge1xuXHRcdFx0Ly8gU2V0ICdCb2R5J1xuXHRcdFx0dmFyIGJvZHlSZWYgPSBhbmd1bGFyLmVsZW1lbnQoJGRvY3VtZW50WzBdLmJvZHkpO1xuXHRcdFx0Ly8gQ2hlY2sgJ1Jlc2V0J1xuXHRcdFx0aWYoaW1nID09ICdyZXNldCcpIHtcblx0XHRcdFx0Ly8gUmVzZXQgJ1Njcm9sbCdcblx0XHRcdFx0Ym9keVJlZi5yZW1vdmVDbGFzcygnbm9TY3JvbGwnKTtcblx0XHRcdFx0Ly8gUmVzZXQgJ0Nzcydcblx0XHRcdFx0bW9kZWwucG9wdXAuY3NzID0gJyc7XG5cdFx0XHRcdC8vIFNldCAnUGFnZSBBY3RpdmUnXHRcdFx0XHRcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bW9kZWwuYW5pbWF0ZS5wYWdlID0gJ3BhZ2VBY3RpdmUnO1xuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0XHQvLyBSZXNldCAnSW1nJ1xuXHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtb2RlbC5wb3B1cC5pbWcgPSAnJztcblx0XHRcdFx0XHRtb2RlbC5jb21tZW50cyA9IFtdO1xuXHRcdFx0XHRcdC8vIEFuaW1hdGlvbnNcblx0XHRcdFx0XHRtb2RlbC5hbmltYXRlLmNvbW1lbnRzID0gZmFsc2U7XG5cdFx0XHRcdFx0bW9kZWwuYW5pbWF0ZS5saWtlID0gZmFsc2U7XG5cdFx0XHRcdH0sIDQwMCk7XG5cdFx0XHRcdC8vIFJlc2V0ICdQcm9tcHQnXG5cdFx0XHRcdG1vZGVsLnBvcHVwLnByb21wdC5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0Ly8gUmV0dXJuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdC8vIFBvc3Rcblx0XHRcdCRodHRwKHtcblx0XHRcdCAgXHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdCAgXHR1cmw6ICdodHRwczovL2RldnRlc3QudGFpbGlmeS5jb20vYXBpL3VwbG9hZC8nLFxuXHRcdFx0ICBcdGRhdGE6IHsgXG5cdFx0XHRcdFx0ZmlsZW5hbWU6aW1nLFxuXHRcdFx0ICBcdFx0cGFzdGViaW5fYXBpX2tleTogJ2Q1N2UzZWVlMTlmZDVjM2FkM2VkMjFiODkxMmEzYmNlJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXMpIHtcblx0XHRcdFx0Ly8gU2V0IFByb21wdFxuXHRcdFx0XHRtb2RlbC5wb3B1cC5wcm9tcHQuYWN0aXZlID0gdHJ1ZTtcblx0XHRcdFx0bW9kZWwucG9wdXAucHJvbXB0LnN0YXR1cyA9IDIwMDtcblx0XHRcdFx0bW9kZWwucG9wdXAucHJvbXB0LnRpdGxlID0gJ1BlcnJycmZlY3QsJztcblx0XHRcdFx0bW9kZWwucG9wdXAucHJvbXB0LnRleHQgPSByZXMuZGF0YS51cmkrJyB1cGxvYWRlZCBqdXN0IGZpbmUuJztcblx0XHRcdFx0Ly8gU2V0ICdJbWFnZSdcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bW9kZWwucG9wdXAuaW1nID0gaW1nO1xuXHRcdFx0XHR9LDIwMCk7XG5cdFx0XHRcdC8vIFJlc2V0ICdQcm9tcHQnXG5cdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdG1vZGVsLnBvcHVwLnByb21wdC5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0fSwgMjUwMCk7XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlcykge1xuXHRcdFx0ICAgIC8vIFNldCBQcm9tcHRcblx0XHRcdFx0bW9kZWwucG9wdXAucHJvbXB0LmFjdGl2ZSA9IHRydWU7XG5cdFx0XHRcdG1vZGVsLnBvcHVwLnByb21wdC5zdGF0dXMgPSA1MDA7XG5cdFx0XHRcdG1vZGVsLnBvcHVwLnByb21wdC50aXRsZSA9ICdIaXNzc3MnO1xuXHRcdFx0XHRtb2RlbC5wb3B1cC5wcm9tcHQudGV4dCA9IHJlcy5kYXRhLm1lc3NhZ2UrJy4nO1xuXHRcdFx0XHQvLyBTZXQgJ0ltYWdlJ1xuXHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtb2RlbC5wb3B1cC5pbWcgPSBpbWc7XG5cdFx0XHRcdH0sMjAwKTtcblx0XHRcdFx0Ly8gUmVzZXQgJ1Byb21wdCdcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bW9kZWwucG9wdXAucHJvbXB0LmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0XHR9LCAyNTAwKTtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gU2V0ICdQYWdlIEluYWN0aXZlJ1xuXHRcdFx0bW9kZWwuYW5pbWF0ZS5wYWdlID0gJ3BhZ2VJbmFjdGl2ZSc7XG5cdFx0XHQvLyBTZXQgJ1BvcHVwIENzcydcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRtb2RlbC5wb3B1cC5jc3MgPSAndXNlclBvcHVwSW1hZ2VBY3RpdmUnO1xuXHRcdFx0fSwgMjAwKTtcblx0XHRcdC8vIFByZXZlbnQgJ0JvZHkgU2Nyb2xsJ1xuXHRcdFx0Ym9keVJlZi5hZGRDbGFzcygnbm9TY3JvbGwnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQqIFxuXHRcdCogVG9nZ2xlIEZvbGxvd1xuXHRcdCpcblx0XHQqIEBtZXRob2QgdG9nZ2xlRm9sbG93XG5cdFx0KiBAcGFyYW0ge251bGx9IFxuXHRcdCogQHJldHVybiB7bnVsbH0gRm9sbG93L1VuZm9sbG93IFVzZXJcblx0XHQqXG5cdFx0Ki9cblxuXHRcdG1vZGVsLnRvZ2dsZUZvbGxvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gQ2hlY2tcblx0XHRcdGlmKG1vZGVsLnByb2ZpbGUuZm9sbG93KSB7XG5cdFx0XHRcdC8vIFNldFxuXHRcdFx0XHRtb2RlbC5wcm9maWxlLmZvbGxvdyA9IGZhbHNlOyAgXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBTZXRcblx0XHRcdFx0bW9kZWwucHJvZmlsZS5mb2xsb3cgPSB0cnVlOyAgXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0KiBcblx0XHQqIEluc2VydCBDb21tZW50XG5cdFx0KlxuXHRcdCogQG1ldGhvZCBpbnNlcnRDb21tZW50XG5cdFx0KiBAcGFyYW0ge251bGx9IFxuXHRcdCogQHJldHVybiB7bnVsbH0gQ29tbWVudCBvbiBVc2VyIEltYWdlXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC5pbnNlcnRDb21tZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRtb2RlbC5jb21tZW50cy5wdXNoKHtkYXRhOm1vZGVsLmNvbW1lbnR9KTtcblx0XHRcdG1vZGVsLmNvbW1lbnQgPSAnJztcblx0XHR9XG5cblx0XHQvKipcblx0XHQqIFxuXHRcdCogVG9nZ2xlIENvbW1lbnRzXG5cdFx0KlxuXHRcdCogQG1ldGhvZCB0b2dnbGVDb21tZW50c1xuXHRcdCogQHBhcmFtIHtudWxsfSBcblx0XHQqIEByZXR1cm4ge251bGx9IFRvZ2dsZSBVc2VyIEltYWdlIENvbW1lbnRzXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC50b2dnbGVDb21tZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gQ2hlY2tcblx0XHRcdGlmKG1vZGVsLmFuaW1hdGUuY29tbWVudHMpIHtcblx0XHRcdFx0Ly8gU2V0XG5cdFx0XHRcdG1vZGVsLmFuaW1hdGUuY29tbWVudHMgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFNldFxuXHRcdFx0XHRtb2RlbC5hbmltYXRlLmNvbW1lbnRzID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQqIFxuXHRcdCogVG9nZ2xlIExpa2Vcblx0XHQqXG5cdFx0KiBAbWV0aG9kIHRvZ2dsZUxpa2Vcblx0XHQqIEBwYXJhbSB7bnVsbH0gXG5cdFx0KiBAcmV0dXJuIHtudWxsfSBMaWtlL1VubGlrZSBVc2VyIEltYWdlXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC50b2dnbGVMaWtlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBDaGVja1xuXHRcdFx0aWYobW9kZWwuYW5pbWF0ZS5saWtlKSB7XG5cdFx0XHRcdC8vIFNldFxuXHRcdFx0XHRtb2RlbC5hbmltYXRlLmxpa2UgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFNldFxuXHRcdFx0XHRtb2RlbC5hbmltYXRlLmxpa2UgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCogXG5cdFx0KiBUb2dnbGUgQW5hbHl0aWNzXG5cdFx0KlxuXHRcdCogQG1ldGhvZCB0b2dnbGVBbmFseXRpY3Ncblx0XHQqIEBwYXJhbSB7bnVsbH0gXG5cdFx0KiBAcmV0dXJuIHtudWxsfSBTaG93cyBVc2VyIFN0YXRzXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC50b2dnbGVBbmFseXRpY3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIFNldCAnQm9keSdcblx0XHRcdHZhciBib2R5UmVmID0gYW5ndWxhci5lbGVtZW50KCRkb2N1bWVudFswXS5ib2R5KTtcblx0XHRcdC8vIENoZWNrXG5cdFx0XHRpZihtb2RlbC5hbmltYXRlLmFuYWx5dGljcykge1xuXHRcdFx0XHQvLyBSZXNldCAnU2Nyb2xsJ1xuXHRcdFx0XHRib2R5UmVmLnJlbW92ZUNsYXNzKCdub1Njcm9sbCcpO1xuXHRcdFx0XHQvLyBTZXQgJ0FuaW1hdGUnXG5cdFx0XHRcdG1vZGVsLmFuaW1hdGUuYW5hbHl0aWNzID0gZmFsc2U7XG5cdFx0XHRcdC8vIFNldCAnUGFnZSBBY3RpdmUnXHRcdFx0XHRcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bW9kZWwuYW5pbWF0ZS5wYWdlID0gJ3BhZ2VBY3RpdmUnO1xuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gUHJldmVudCAnU2Nyb2xsJ1xuXHRcdFx0XHRib2R5UmVmLmFkZENsYXNzKCdub1Njcm9sbCcpO1xuXHRcdFx0XHQvLyBTZXQgJ1BhZ2UgSW5hY3RpdmUnXHRcdFx0XHRcblx0XHRcdFx0bW9kZWwuYW5pbWF0ZS5wYWdlID0gJ3BhZ2VJbmFjdGl2ZSc7XG5cdFx0XHRcdC8vIFNldCAnQW5pbWF0ZSdcblx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bW9kZWwuYW5pbWF0ZS5hbmFseXRpY3MgPSB0cnVlO1xuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCogXG5cdFx0KiBTd2l0Y2ggQW5hbHl0aWNzXG5cdFx0KlxuXHRcdCogQG1ldGhvZCBzd2l0Y2hBbmFseXRpY3Ncblx0XHQqIEBwYXJhbSB7bnVsbH0gXG5cdFx0KiBAcmV0dXJuIHtudWxsfSBTd2l0Y2hlcyBBbmFseXRpY3MgUGFuZWxzIChNb2JpbGUvVGFibGV0IE9ubHkpXG5cdFx0KlxuXHRcdCovXG5cblx0XHRtb2RlbC5zd2l0Y2hBbmFseXRpY3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIENoZWNrXG5cdFx0XHRpZihtb2RlbC5hbmltYXRlLmFuYWx5dGljc1N3aXRjaCkge1xuXHRcdFx0XHQvLyBTZXQgJ0FuYWx5dGljcyBTd2l0Y2gnXG5cdFx0XHRcdG1vZGVsLmFuaW1hdGUuYW5hbHl0aWNzU3dpdGNoID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBTZXQgJ0FuYWx5dGljcyBTd2l0Y2gnXG5cdFx0XHRcdG1vZGVsLmFuaW1hdGUuYW5hbHl0aWNzU3dpdGNoID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdH1cblxufSgpKTsiXX0=
